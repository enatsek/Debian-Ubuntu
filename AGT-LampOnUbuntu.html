<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> </head> <body><H1>LampOnUbuntu: LAMP Stack On Ubuntu 22.04
</H1><p> <a href="javascript:myFunction('Div1')">Copyright (C) 2020 - 2023 Exforge exforge@x386.org
</a> <div id="Div1" style="margin-left:10%;"><pre><code># This document is free text: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# any later version.
# This document is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</code> </pre> </div> </p>
<p> <a href="javascript:myFunction('Div2')">Specs
</a> <div id="Div2" style="margin-left:10%;"><pre><code># L: Ubuntu 22.04 Sever (and 20.04)
# A: Apache 2 
# M: MariaDB (Mysql could be another option)
# P: PHP (Python or Perl could be other options)
#
# Sources:
<a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04" target="_blank">https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04</a>
<a href="https://www.geeksforgeeks.org/how-to-retrieve-data-from-mysql-database-using-php/" target="_blank">https://www.geeksforgeeks.org/how-to-retrieve-data-from-mysql-database-using-php/</a>
</code> </pre> </div> </p>
<p> <a href="javascript:myFunction('Div3')"> 1. Install Packages
</a> <div id="Div3" style="margin-left:10%;"><pre><code>sudo apt update
# 1.1. Install Apache 2
sudo apt install --yes apache2
# 1.2. Install MariaDB
sudo apt install --yes mariadb-server
# 1.3. Install PHP, Mariadb and Apache dependancies
sudo apt install php --yes libapache2-mod-php php-mysql
# 1.4. Install other PHP dependancies 
# Depending on the PHP code, you may need some more PHP library packages.
#    For example, Wordpress needs the following packages:
sudo apt install --yes php-curl php-gd php-mbstring php-xml php-xmlrpc \
     php-soap php-intl php-zip
# 1.5. Restart Apache
sudo systemctl restart apache2
</code> </pre> </div> </p>
<p> <a href="javascript:myFunction('Div4')"> 2. Test LAMP Stack
</a> <div id="Div4" style="margin-left:10%;"><pre><code># We'll create a test database, a table in that database, add some rows to the 
#    table on Mariadb. We will also create a test PHP file with the PHP code to 
#    retrieve the data from the database and display it as HTML. 
# 2.1. DB Operations
# Connect to Mariadb shell
sudo mariadb
# Create nysampledb database, connect to it, create a table, fill the table,
#    create a user with the access permission to that database and the table.
# !!! BEGIN Run on Mariadb shell. !!!
CREATE DATABASE mysampledb;
USE mysampledb;
CREATE TABLE Employees (Name char(15), Age int(3), Occupation char(15));
INSERT INTO Employees VALUES ('Joe Smith', '26', 'Ninja');
INSERT INTO Employees VALUES ('John Doe', '33', 'Sleeper');
INSERT INTO Employees VALUES ('Mariadb Server', '14', 'RDBM');
GRANT ALL ON mysampledb.* TO 'appuser'@'localhost' IDENTIFIED BY 'password';
exit
# !!! END Run on Mariadb shell. !!!
# 
# 2.2. Create Test PHP
sudo nano /var/www/html/test.php
# Fill it as below
#_________________________________________________________________________
&lt;?php
   $mycon = new mysqli("localhost", "appuser", "password", "mysampledb");
   if ($mycon-&gt;connect_errno)
   {
      echo "Connection Error";
      exit();
   }
   $mysql = "SELECT * FROM Employees";
   $result = ($mycon-&gt;query($mysql));
   $rows = &lsqb;&rsqb;;
   if ($result-&gt;num_rows &gt; 0)
    {
        $rows = $result-&gt;fetch_all(MYSQLI_ASSOC);
    }
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;table&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Age&lt;/th&gt;
                &lt;th&gt;Occupation&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;?php
               if(!empty($rows))
               foreach($rows as $row)
              {
            ?&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;?php echo $row&lsqb;'Name'&rsqb;; ?&gt;&lt;/td&gt;
                &lt;td&gt;&lt;?php echo $row&lsqb;'Age'&rsqb;; ?&gt;&lt;/td&gt;
                &lt;td&gt;&lt;?php echo $row&lsqb;'Occupation'&rsqb;; ?&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;?php } ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;?php
    mysqli_close($conn);
?&gt;
#_________________________________________________________________________
#
# 2.3. Test it
# Now, from your workstation's browser, load the page (replace srv with your 
#    server's IP: 
#    http:/srv/test.php
</code> </pre> </div> </p>
</code> </pre> </div> </p>
<br /><br /><br /><script>
function myFunction(divid) {
  var x = document.getElementById(divid);
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
var i;
var str;

for (i=1; i<5; i++) {
    str = "Div" + i.toString();
    myFunction(str);
}
</script></body> </html>